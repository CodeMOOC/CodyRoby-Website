---
import { Image } from 'astro:assets';
import type { ProductPublication } from '~/types';

export interface Props {
  product: ProductPublication;
}

const { product } = Astro.props;
const image = product.image;

const url = product.url;
---

<div
  id={product.id}
  class="border rounded-lg px-4 py-2 transition intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade not-prose"
>
  <a
    class="block hover:text-[#F07305] dark:hover:text-[#F07305] transition ease-in duration-200 no-underline"
    href={url}
    target="_blank"
  >
    <div class="flex justify-end">
      <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
        <path
          fill="currentColor"
          d="M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83l1.41 1.41L19 6.41V10h2V3z"
        ></path>
      </svg>
    </div>
    <div class="relative md:h-64 dark:bg-slate-700 rounded">
      <Image
        src={image}
        class="w-full md:h-full rounded dark:bg-slate-700"
        width={500}
        alt={product.title}
        loading="lazy"
        decoding="async"
      />
    </div>
    <div class="mt-6">
      <h3 class="text-base font-bold leading-tight dark:text-slate-300">
        {product.title}
      </h3>
    </div>
  </a>
</div>
